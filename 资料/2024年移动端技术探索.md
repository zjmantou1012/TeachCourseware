---
author: zjmantou
title: 2024年移动端技术探索
time: 2024-07-03 周三
tags:
  - Android
  - 资料
  - 精品
---


# 1引子

2023年号称AI元年，AI带来了一些不是很清晰的机会，没有看到有多好的落地，对于互联网，不止技术层面没有突破，业务层面的需求也断崖式下滑，没有创新就没有需求，老业务的修修补补也带不来多少需求。以音视频行业为例，业界很有影响力的LiveVideoStack也停止了商务活动，音视频大会也不再开了。一切都在朝着萎缩的方向发展。裁员已经不是什么新闻，不是不裁了，是大家习惯了。

在移动端，甚至整个互联网还能折腾什么呢？大家早已不再以造轮子为乐了，因为现在缺的不是轮子，而是从头到尾的新车子。参加北京QCon的时候郭东白大佬讲了一个玩笑”一听到重构程序员就很兴奋，有饭吃了“，随着市场的饱和，重构也没有那么必要。

2024马上就要过半了，本文试着总结大家前半年做的事情，探索出移动端目前还可以支持的点以及未来”比较“有前途的方向。

# 2行业背景

这一章我们从大厂和行业大会两方面的信息分析2024年移动端的诉求点。

## **大厂**

从各个企业对外输出的文章和分享，整理了下面几个公司的输出成果。

### **阿里、支付宝**

阿里的输出主要以思维、方法论、推荐书籍、智联、实践为主。以[一文带你揭秘淘宝终端技术](https://mp.weixin.qq.com/s?__biz=Mzg4NTczNzg2OA==&mid=2247501985&idx=1&sn=3ed17ac34a79956c0a1086660d0be865&scene=21#wechat_redirect)  为例窥探阿里终端的思路。淘宝团队为了应对和解决技术挑战和难题，长期探索这几大技术方向：

- **原生技术**，遵循Platform First理念，贴近原生系统、充分挖掘系统组件和特性，沉淀极致性能的渲染引擎/动态化引擎/原子能力集，同时与厂商深度合作，探索站内外用户触达多通道，用技术做用增；
    
- **底层技术**，遵循First Principle理念，深入虚拟机/字节码/汇编指令等，探索稳定性/性能/包体的极致边界，深入系统底层机制与原理，必要时帮系统打补丁；
    
- **跨端技术**，遵循Cross Platform理念，抹平多系统/平台差异，充分利用业界较为成熟的前端生态，沉淀自主可控的渲染引擎/图形引擎/脚本引擎，向业务提供符合W3C标准的前端友好的基础设施；
    
- **工程技术**，遵循Productivity First理念，支撑大规模多团队协作式研发，深挖工程组织/编译构建/虚拟机调度等技术，融合前端/客户端研发工作流，向业务提供高效稳定的工程体系；同时持续升级Low Code技术，赋能业务运营同学快速搭建页面上线，实现产品运营需求的想发就发；
    
- **网络技术**，拥抱网络协议新标准，重点优化移动弱网场景，以更小带宽，实现更快的传输，面对复杂移动场景，提供弹性可伸缩的网络服务，平衡前后台的业务体验；
    
- **应用服务技术**，遵循API First理念，解决接口大规模稳定快速投放，扩展丰富的请求模式/传输协议/压缩算法等，探索端云交互一体化新模式和端云研发新模式；
    
- **AI技术**，依托于大模型近来的突飞猛进，我们承担着进一步提升淘宝业务研发效率和体验的使命，包括多模态代码生成（一句话需求生成逻辑代码/一张视觉稿生成UI代码/基于一段真实代码生成单测代码）、问题诊断（线上Crash诊断/端到端问题自动定位/构建失败诊断/场景化性能诊断调优）、研发助理（领域知识答疑/最佳实践问答）等等。


总结下来就是原生、底层、工程、网络、应用服务以及AI技术。文章中还提到了这些方向的部分代表作：

- **原生动态化技术**：基于play core的动态化方案，具备了Replugin(360)和Qigsaw(iQiyi)合并的优势，既支持插件化，又支持组件动态化；
    
- **原生研发框架DX 4.0**，以Kotlin+Compose为标准，声明式/响应式/状态管理/一码多屏为特性，基于原生系统UIKit构建原生渲染管线、基于KMP构建面向多平台的编译体系，支持原生组件和能力的快速定制和扩展；
    
- **自绘渲染引擎Weex 2.0**，自建符合 Web 标准的自绘渲染引擎，包含执行代码/节点构建/布局/绘制/合成/光栅化/上屏等完整渲染管线；建立字节码离线编译的工程体系，编译期可进行耗时更高更彻底的优化，并支持标准 ESM 模块、多文件拼接、动态执行脚本、模块搭建等能力；弹性可扩展的容器和插件能力，支持全页/浮层/卡片/小部件/Embed 等多种形态及插件；
    
- **流式SSR技术**，业界率先尝试零运维流式 SSR 托管服务，简化流式 SSR 页面研发成本，相对业内中心化 SSR 渲染方案，引入了 CDN ER 的边缘能力，降低客户端渲染压力，并实现就近的渲染快照，实现极致的 FCP 时间；
    
- **LSM对象存储技术**，业界腾讯开源的MMKV、mongodb的子项目realm都是针对移动端的对象/键值存储方案，分别使用了MVCC等存储模型用于提升高并发场景的性能，但没有针对Flash存储(SSD/UFS/)特性的优化。sqlite的btree模型对大对象键值存储的读写放大系数较高。我们针对Flash存储特性（块读写机制、垃圾回收机制等）实现的LSM Tree，支持了内存压缩、冷热分区、碎片化抑制等特性，在读写放大系数和吞吐性能上有显著优势，大量应用在移动端上图片及小文件缓存等场景；
    
- **终端APP到全链路的观测与性能技术**，立足Android/iOS原生特性提供APP维度的观测套件，以及各类APP高性能框架、组件，实现端性能持续优化与业务迭代；立足OpenTelemetry提供终端访问云上服务的全链路分布式技术规范与观测套件，实现终端RPC、远程配置、消息、大文件上传/下载等高性能中间件，支撑业务链路优化与治理；
    
- **终端工程构建技术**，以流水线为主要支撑，通过灵活的配置插件形成统一的构建流水线，我们沉淀了终端丰富的工程构建工具链，支持iOS/Android/PC/IOT等多终端的自定义，同时结合私有化部署能够完全开放定制整个工程构建生产链路；
    
- **高性能网络技术**，在IETF国际标准组织，主导Multipath-QUIC协议标准化进程(作为协议第一作者)；有4篇网络领域顶级学术会议论文和期刊收录，包括网络学术Top1顶会SIGCOMM 21发表论文`<XLINK>`/顶会NSDI收录`<TECC>`
- 等；开源国内首个标准化协议库XQUIC(git star 1.5K)/开源高性能云原生网关Tengine（git star 12.2K）；网络领域专利授权超过20个以上。

阿里电商未来主要会通过先进的人机交互技术，如手势控制、面部识别、语音助手，以最自然的方式同设备进行交互，无需学习复杂的操作，为我们提供将更优雅的用户体验。

### **腾讯、微信**

微信主要还是针对C++跨平台，迭代了WCDB以及探讨了C++模版代码膨胀问题，也还是老生常谈，下面是搜集到的几篇文章：

- [无障碍功能框架：如何让残疾/老龄群体更好使用微信？](https://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&mid=2649289440&idx=1&sn=4bcaf07fbcc682855c37229cab252262&scene=21#wechat_redirect)
    
- [Android微信客户端是如何支持R8构建的？](https://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&mid=2649290173&idx=1&sn=ca7b8eaf342301c25552d594cb539820&scene=21#wechat_redirect)
    
- [视频号直播：如何进一步降低功耗占用？](https://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&mid=2649290657&idx=1&sn=6e6287043873cc56aa9defa434f88917&scene=21#wechat_redirect)
    
- [从入门到精通：如何解决C++模板代码膨胀问题？](https://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&mid=2649290923&idx=1&sn=1e55d9f66ec4464d3a8d4b480e6c53c1&scene=21#wechat_redirect)
    
- [五年沉淀，微信全平台终端数据库WCDB迎来重大升级！](https://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&mid=2649293515&idx=1&sn=a87245151dffaf9fe1c4ae8c084c789b&scene=21#wechat_redirect)
    

### **百度**

百度主要分享了iOS包体积优化，里面介绍的很多手段大家也或多或少的有在使用了。!

![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/MuMjFf2EKibEozFR8t7b2L6IiciciaFeTUMLyReDWamvs4vE9EWTjnicXMgIY53bWJFxocLicVfy7ic6Qva78zVl1sqvw/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

### **字节、抖音**

字节抖音分享了ANR自动归因平台建设的实践：[抖音 ANR 自动归因平台建设实践](https://mp.weixin.qq.com/s?__biz=MzI1MzYzMjE0MQ==&mid=2247505945&idx=1&sn=ad31d57cc82ee42d0b9beeaa03f232b8&scene=21#wechat_redirect)，ANR采集完成后原因归类和移动端技术已经没有太大关系了，还是平台能力建设。

### **京东**

京东基于自身研发的小程序框架对纯血鸿蒙做了适配：[使用Taro开发鸿蒙原生应用——当Taro遇到纯血鸿蒙](https://mp.weixin.qq.com/s?__biz=MzU1MzE2NzIzMg==&mid=2247494033&idx=1&sn=2ddd13b0246268ee0a032848e3800b8b&scene=21#wechat_redirect)，是小程序跨端方案在鸿蒙的延伸。

### **滴滴**

![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/MuMjFf2EKibEozFR8t7b2L6IiciciaFeTUMLdgcZ6a9AM55hNJWA5pStia2c3lXSKIF83dzL7vBhOSHQZGYT1nvmmoQ/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

滴滴发布的[400+页技术实践干货合集，助你开启新旅程](https://mp.weixin.qq.com/s?__biz=MzU1ODEzNjI2NA==&mid=2247568890&idx=1&sn=8cabb7a1e8be3dc1f3be4b24e20bbc66&scene=21#wechat_redirect)，对质量和效能都有提及，但是对移动端已经没有只言片语。

### **美团**

![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/MuMjFf2EKibEozFR8t7b2L6IiciciaFeTUML6giaMdfAeaGXP2507RnjjWT6vTHsR7lM7BVP7OP8xjdmO0eYW0eJJcQ/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

[600+页电子书，前端、后端、算法、测试、运维系列大合集](https://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&mid=2651776864&idx=1&sn=a1499cd3d383effe263f363c7adbf60b&scene=21#wechat_redirect) 中，移动端也是R8和热修复，以及平台能力建设。

### **小红书**

小红书发布了一个跨Android、iOS、鸿蒙的播放器，比较商业播放器和开源ijk没有看到特别明显的优势，不过也是今年看到为数不多的轮子。

## **行业大会**

四月份去了一天InfoQ组织的QCon开发者大会，整理了一下大会的主题和分享内容：!

![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/MuMjFf2EKibEozFR8t7b2L6IiciciaFeTUMLhe2ZiatDKpnx7dM57KxRBOb7xY9swxPfamTbgAuFkSMOUpEfJwcAtrQ/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/MuMjFf2EKibEozFR8t7b2L6IiciciaFeTUML9Gf5uUiaCpDfsmVRkyDZhAp0Tz68cwPpCmtJ5yGibAAL0jQM4gVzN9ow/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/MuMjFf2EKibEozFR8t7b2L6IiciciaFeTUMLxiayNNqkvWY99y09R2G9zO9qaM5PbibYt4nXdEM7LkrRtcXdXhxRa3Ug/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/MuMjFf2EKibEozFR8t7b2L6IiciciaFeTUMLJJ5WictAgRaXHnFhLkUmA9NbePxUfWLxhfLqSrQon6PSHBTCibR9iavYw/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

看分享主题全部都是AI，不愧是AI元年，哪个方向都和AI有关。重点看一下移动端方向：

- 自研OS时代的大终端
    

- 钉钉 Apple Vision Pro 创新之旅。
    
- 突破开发与测试的技术栈壁垒——注入式方案在性能调优与自动化测试中的运用。
    
- Android 工程元数据配置系统：助力超大型工程研发效能。
    

- 自研 OS 时代的大终端（HarmonyOS 专题）
    

- 高德地图的鸿蒙化经验——追求极致体验。
    
- 闲鱼应用基于 Kun/Flutter 在鸿蒙 OS 上的移植实践。
    
- Taro 适配鸿蒙的框架原理和性能优化。
    
- 小红书鸿蒙一多工程实践——基于鸿蒙一多特性打造多设备使用体验。
    

- 大前端
    

- MIX：饿了么小程序从端智能到智能体验的探索。
    
- Rust 如何引领前端基建新潮流以及字节跳动的应用。
    
- Kotlin Multiplatform 基于 Bazel 的逻辑层跨平台 (iOS、Android、Harmony) 实践。
    
- Web 前端技术在智能电动汽车行业的探索。
    
- Web 前端技术在智能电动汽车行业的探索。
    

移动端主要是鸿蒙方向为主，还有一部分是提效相关的（跨段等手段），还有就是钉钉在Version Pro中的尝试这三个方向。

# 3移动端主要方向分析

通过上面的分析我们把移动端分成下面几个方向讨论：

## **业务迭代**

随着各个行业增长的停滞，业务需求真的没有那么多了，但是业务需求和功能维护还是移动端主要的需求方向，但是在这个方向上，其实没有什么技术门槛了，学历、履历、年龄开始成为AI的筛选目标（对，没错，现在HR已经开始用AI来筛选工具了，限制条件写好，简历往kimi一传，结果清晰调理），开始后悔没有考个好学校了。

## **鸿蒙**

在现在看，鸿蒙的结果还是扑朔迷离，但是不得不承认，鸿蒙带来了一些需求和岗位，所谓的技术创新特别依赖华为生态，对于开发者来说没有带来技术创新，对于企业来说是一种负担，不会带来增长，还得花钱去开发和维护。真正有一天生态足够开放，可以万物互联，对于开发者和消费者才是真正的福音。

## **系统应用/Framework/驱动开发**

不管是鸿蒙的南向开发，还是车企间的互相较真，Framework还有一些岗位，但是一直以来都很小众。

## **提效**

越是环境不好的时候企业越是关注效能，对于移动端来说，跨端一直是个尝试方向，虽然Flutter前端时间在传谷歌Flutter团队被裁，但是市场上一些新APP，特别是出海方向的，Flutter也是主流选择。目前随着鸿蒙的加入，双端边三端，跨平台的收益更明显，鸿蒙的ARK-X还在萌芽的萌芽，难堪大用，Flutter还是主流方式。

还有一些企业在搞多栈，就是一个人把前端后端的都搞了，这块我没有看到太明确的收益，对于开发者好，可以尝试一些其他方向技术，但是对于公司的收益，具体怎么提效，没有见有人说明白的，都说分工产生能效，现在打破分工对于企业来说可能也是一厢情愿的“提效”。

AI编程助手在国际市场上，GitHub Copilot 成为一枝独秀，JetBrains AI、Codium 也紧追不放。开发者们获得了数倍的效率提升。而在国内市场，各大厂商也纷纷投入资源，大力推出自家的平替工具。比如：Baidu Comate、智谱CodeGeeX、阿里通义灵码、腾讯云 AI 代码助手、华为CodeArts Snap、讯飞iFlyCode、商汤代码小浣熊，这些助手对于编程提效是实实在在的，企业如果抛开代码安全的考虑，工程师使用这些工具可以极大的提升开发效率。

## **XR**

视觉方向，苹果推出的 Version Pro震撼了好多人，在这个方向一直有人在搞，但是一直没有很成熟的产品，无法大众化的铺开，可能还是缺乏真正的技术。一些业务性质特殊的企业会投人在这个方向做一些尝试。

## **AI**

AI很火，但是和移动端都没有太大的关系，端侧部署的大模型，效果还是很差，无法找到落地场景，只能做一些大模型衍生的应用工具，在语音、图像等方向，算法的方向也都放到了大模型多模态方面，传统的图像识别等也很少在进行迭代。

在[[2023移动端技术探索]]中分析的性能优化、架构设计、开发平台搭建、音视频方向目前都没有太大的潜力，性能优化在经过前几年的努力，现在一方面趋于稳定了，另一方面配套的工具已经搭建好了，当做常规需求消化即可；架构设计、平台搭建因为没有增长，所以也不再需要那么多轮子了；音视频方向也建设的七七八八，顶不住的直接采购也是不错的选择，所以这些方向没有单独讨论的必要了。

# 4未来展望

市场行情很不乐观，现在不是去造几个轮子或者怎么造轮子的事情了，因为未来可能根本不需要轮子。汽车不是马车上安装了一台发动机，而是一种全新的体验。未来的AI可能是一种我们现在完全想不到的形态，终端也不是现在遮遮掩掩的开发生态，而是真正能万物互联的新体验。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/MuMjFf2EKibEozFR8t7b2L6IiciciaFeTUMLcfTDXrXrt4tg2jXrcZCpGp6zwgHrxcdZ12cNiajYsyQ1qn0CPktic2lw/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

我们应该潜行修炼，现在看技术已经没有那么重要，但是技多不压身，还是要好好修炼，一切重要性都存在想象中，而重要性又是在比较中显现。

最后推荐一下我做的网站，玩Android: _wanandroid.com_ ，包含详尽的知识体系、好用的工具，还有本公众号文章合集，欢迎体验和收藏！


# 推荐阅读：  

[Android 大话binder通信](http://mp.weixin.qq.com/s?__biz=MzAxMTI4MTkwNQ==&mid=2650853459&idx=1&sn=821f9301c649392b07f7fec8847d6490&chksm=80b704cdb7c08ddb9c8e82082b4d4db372ccbb04e8bcf524b9d6d95cc68a29f5de5c8ac12969&scene=21#wechat_redirect)  

[Android Resource那些事，看这篇就行啦~](http://mp.weixin.qq.com/s?__biz=MzAxMTI4MTkwNQ==&mid=2650853401&idx=1&sn=f0bc16ea0b454528c4dc7b0b72df0d95&chksm=80b70487b7c08d910b2ba5a75637d4173a12fb0bcc4e4b28ef83afef311e45a250554a95f423&scene=21#wechat_redirect)  

[AGP 8.0 路由框架新思路](http://mp.weixin.qq.com/s?__biz=MzAxMTI4MTkwNQ==&mid=2650853383&idx=1&sn=627dd1d0e1ac2ff9ef9d8904b0409076&chksm=80b70499b7c08d8f348f2854abe6f1a82ef4a97e00b0139ceff866c4f50bb8a32b37eb8d34af&scene=21#wechat_redirect)