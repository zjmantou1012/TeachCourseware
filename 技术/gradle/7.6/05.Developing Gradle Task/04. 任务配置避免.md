---
author: zjmantou
title: 04. 任务配置避免
time: 2024-08-01 周四
tags:
  - 技术
  - Gradle
---
[TaskContainer.register(java.lang.String)](https://docs.gradle.org/7.6/javadoc/org/gradle/api/tasks/TaskContainer.html#register-java.lang.String-) 。 
避免任务创建 

包括调用TaskContainer.register(java.lang.String)或使用TaskCollection.named(java.lang.String)方法。 

调用Provider.get()或使用TaskCollection.getByName(java.lang.String)按名称查找任务将导致创建和配置任务。像Task.dependsOn(java.lang.Object...​)和ConfigurableFileCollection.builtBy(java.lang.Object...)这样的方法与TaskProvider 的工作方式与Task相同，因此您不需要为显式依赖项打开Provider继续工作。 

# 任务关系（dependsOn 、 finalizedBy 、 mustRunAfter 、 shouldRunAfter ） 

- [Task.mustRunAfter(…​)](https://docs.gradle.org/7.6/dsl/org.gradle.api.Task.html#org.gradle.api.Task:mustRunAfter(java.lang.Object[]))和[Task.shouldRunAfter(…​)](https://docs.gradle.org/7.6/dsl/org.gradle.api.Task.html#org.gradle.api.Task:shouldRunAfter(java.lang.Object[]))表示软关系，只能更改现有任务的顺序，但不能触发其创建。
- [Task.dependsOn(…​)](https://docs.gradle.org/7.6/dsl/org.gradle.api.Task.html#org.gradle.api.Task:dependsOn(java.lang.Object[]))和[Task.finalizedBy(…​)](https://docs.gradle.org/7.6/dsl/org.gradle.api.Task.html#org.gradle.api.Task:finalizedBy(java.lang.Object[]))表示强关系，这将_强制_执行引用的任务，即使它们不会以其他方式创建。 


