# 传统IO读写的流程

1. 用户进程发起文件数据的读请求
2. 内核通过查找进程文件符表，定位内核已打开文件集上的文件信息，从而找到文件inode
3. inode在address_space上查找要请求的文件页是否已缓存在页缓存中
4. 如已在缓存页中，则直接返回这片文件页上的内容
5. 如不在缓存页上，就会引发`缺页中断`。 当发生`缺页中断`时，内核则调用`nopage函数`把所缺的页从磁盘装入到`内存内核`中及Page Cache中。接着再发起读页面过程，从而将数据从页缓存中拷贝到用户空间中

![image.png](https://zjmantou-drawingbed.oss-cn-hangzhou.aliyuncs.com/picture/202310252132114.png)

## 特点

1. 常规文件操作为了读写效率和保护磁盘，使用了页缓存机制
2. 页缓存处在内核空间中，不能直接被用户进程直接寻址，需要将数据从页缓存中拷贝到主内存.



