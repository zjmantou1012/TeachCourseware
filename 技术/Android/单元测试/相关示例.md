---
author: zjmantou
title: 相关示例
time: 2024-10-11 周五
tags:
  - Android
  - 单元测试
---
# [测试ViewModel](https://developer.android.com/codelabs/basic-android-kotlin-compose-test-viewmodel?hl=zh-cn#3) 

# [Advanced Android in Kotlin 05.1: Testing Basics](https://developer.android.com/codelabs/advanced-android-kotlin-training-testing-basics)


# 核心库 

```groovy
testImplementation "junit:junit:$junitVersion"  
//AndroidX库，可以提供Android框架api，比如Application和Activity
testImplementation "androidx.test.ext:junit-ktx:$androidXTestExtKotlinRunnerVersion"  
testImplementation "androidx.test:core-ktx:$androidXTestCoreVersion"  
//提供模拟的Android环境
testImplementation "org.robolectric:robolectric:$robolectricVersion"  

//核型测试框架库
testImplementation "androidx.arch.core:core-testing:$archTestingVersion"


// Dependencies for Android instrumented unit tests
//这是 Mockito 依赖项。
androidTestImplementation "org.mockito:mockito-core:$mockitoVersion"

//在 Android 项目中使用 Mockito 需要此库。 Mockito 需要在运行时生成类。在 Android 上，这是使用 dex 字节代码完成的，因此该库使 Mockito 能够在 Android 上运行时生成对象
androidTestImplementation "com.linkedin.dexmaker:dexmaker-mockito:$dexMakerVersion" 

//该库由外部贡献（因此得名）组成，其中包含更高级视图的测试代码，例如`DatePicker`和`RecyclerView` 。它还包含可访问性检查和稍后介绍的名为`CountingIdlingResource`的类。
androidTestImplementation "androidx.test.espresso:espresso-contrib:$espressoVersion"



```

# 手段 

- 依赖注入 
- ServiceLocator 


## 测试导航 

测试导航，您可以：

1. Use Mockito to create a `NavController` mock.  
    使用 Mockito 创建`NavController`模拟。
2. Attach that mocked `NavController` to the fragment.  
    将模拟的`NavController`附加到片段。
3. Verify that navigate was called with the correct action and parameter(s).  
    验证是否使用正确的操作和参数调用了导航。

